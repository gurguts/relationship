server:
  port: 8080
  http2:
    enabled: false

spring:
  security:
    user:
      name: disabled
      password: disabled
  cloud:
    gateway:
      routes:
        - id: block_well_known
          uri: no://op
          predicates:
            - Path=/.well-known/**
          order: -1

        # ðŸ“Œ Web App (Frontend)
        - id: web-app
          uri: ${WEB_APP_URL:http://localhost:8081}
          predicates:
            - Path=/login,/clients,/routes,/purchase,/sale,/settings,/administration,/containers,/inventory,/warehouse,/finance,/stock,/analytics,/profile,/declarant,/static/**,/css/**,/js/**,/favicon/**,/img/**
          filters:
            - CustomTokenRelayFilterFactory

        - id: user-service
          uri: ${USER_SERVICE_URL:http://localhost:8082}
          predicates:
            - Path=/api/v1/user/**,/api/v1/auth/**,/api/v1/transaction/**,/api/v1/accounts/**,/api/v1/branches/**,/api/v1/transaction-categories/**,/api/v1/branch-permissions/**,/api/v1/counterparties/**
          filters:
            - CustomTokenRelayFilterFactory


        - id: client-service
          uri: ${CLIENT_SERVICE_URL:http://localhost:8084}
          predicates:
            - Path=/api/v1/client/**,/api/v1/business/**,/api/v1/region/**,/api/v1/route/**,/api/v1/source/**,/api/v1/status/**,/api/v1/entities/**,/api/v1/clientProduct/**,/api/v1/client-type/**
          filters:
            - CustomTokenRelayFilterFactory


        - id: purchase-service
          uri: ${PURCHASE_SERVICE_URL:http://localhost:8093}
          predicates:
            - Path=/api/v1/purchase/**,/api/v1/product/**,/api/v1/warehouse/**,/api/v1/withdrawal-reason/**,/api/v1/driver/**,/api/v1/vehicles/**,/api/v1/carriers/**,/api/v1/vehicle-senders/**,/api/v1/vehicle-receivers/**,/api/v1/exchange-rates/**
          filters:
            - CustomTokenRelayFilterFactory


        - id: container-service
          uri: ${CONTAINER_SERVICE_URL:http://localhost:8095}
          predicates:
            - Path=/api/v1/container/**,/api/v1/containers/**
          filters:
            - CustomTokenRelayFilterFactory


        - id: sale-service
          uri: ${SALE_SERVICE_URL:http://localhost:8096}
          predicates:
            - Path=/api/v1/sale/**
          filters:
            - CustomTokenRelayFilterFactory


        - id: fallback
          uri: no://op
          predicates:
            - Path=/**
          filters:
            - name: FallbackResponse
              args:
                status: 404
                message: '{"code":"NOT_FOUND","message":"Resource not found"}'

