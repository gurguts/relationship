<!DOCTYPE html>
<html lang="ua">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administration</title>

    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/administration.css">

    <link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96"/>
    <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg"/>
    <link rel="shortcut icon" href="/favicon/favicon.ico"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/>
    <meta name="apple-mobile-web-app-title" content="Vinteh"/>
    <link rel="manifest" href="/favicon/site.webmanifest"/>
</head>
<body>
<label class="hamburger">
    <input id="hamburger" type="checkbox">
    <svg viewBox="0 0 32 32">
        <path class="line line-top-bottom"
              d="M27 10 13 10C10.8 10 9 8.2 9 6 9 3.5 10.8 2 13 2 15.2 2 17 3.8 17 6L17 26C17 28.2 18.8 30 21 30 23.2 30 25 28.2 25 26 25 23.8 23.2 22 21 22L7 22"></path>
        <path class="line" d="M7 16 27 16"></path>
    </svg>
</label>

<header>
    <div class="user-info">
        <span id="userName">Не вказано</span><br>
        <span id="userBalance">0</span>
    </div>
    <nav>
        <ul>
            <li id="nav-clients" class="dropdown">
                <a href="#" onclick="return false;">
                    Клієнти
                    <span class="dropdown-arrow">▼</span>
                </a>
                <ul id="client-types-dropdown" class="dropdown-menu" style="display: none;">
                </ul>
            </li>
            <li id="nav-routes" class="dropdown">
                <a href="#" onclick="return false;">
                    Маршрути
                    <span class="dropdown-arrow">▼</span>
                </a>
                <ul id="route-types-dropdown" class="dropdown-menu" style="display: none;">
                </ul>
            </li>
            <li id="nav-purchase" class="dropdown">
                <a href="#" onclick="return false;">
                    Закупівлі
                    <span class="dropdown-arrow">▼</span>
                </a>
                <ul id="purchase-types-dropdown" class="dropdown-menu" style="display: none;">
                </ul>
            </li>
            <li id="nav-containers" class="dropdown">
                <a href="#" onclick="return false;">
                    Тари
                    <span class="dropdown-arrow">▼</span>
                </a>
                <ul id="container-types-dropdown" class="dropdown-menu" style="display: none;">
                </ul>
            </li>
            <li id="nav-inventory"><a href="/inventory">
                Баланс тари
            </a></li>
            <li id="nav-finance"><a href="/finance">
                Фінанси
            </a></li>
            <li id="nav-stock"><a href="/stock">
                Склад
            </a></li>
            <li id="nav-declarant"><a href="/declarant">
                Декларант
            </a></li>
            <li id="nav-analytics"><a href="/analytics">
                Аналітика
            </a></li>
            <li id="nav-settings"><a href="/settings" class="setting-icon-block">
                Налаштування
            </a></li>
            <li id="nav-administration"><a class="selected-nav" href="/administration">
                Адміністрація
            </a></li>
            <li id="nav-profile"><a href="/profile">
                Мій профіль
            </a></li>
            <li>
                <a href="#" id="logout">
                    Вихід
                </a>
            </li>
        </ul>
    </nav>
</header>

<div class="administration-container">
    <div class="administration-header">
        <h1>Адміністрування</h1>
        <p>Управляйте користувачами, довідниками та правами доступу в єдиному інтерфейсі</p>
    </div>

    <div class="admin-tabs">
        <button id="showUsersBtn" class="tab-btn">Користувачі</button>
        <button id="showClientTypesBtn" class="tab-btn">Типи клієнтів</button>
        <button id="showContainersBtn" class="tab-btn">Тара</button>
        <button id="showStoragesBtn" class="tab-btn">Склади</button>
        <button id="showWithdrawalReasonsBtn" class="tab-btn">Причини списання</button>
        <button id="show-products" class="tab-btn">Продукти</button>
        <button id="show-client-products" class="tab-btn">Продукти клієнтів</button>
        <button id="showSourcesBtn" class="tab-btn">Джерела</button>
        <button id="showBranchPermissionsBtn" class="tab-btn">Права доступу до філій</button>
    </div>

    <div class="admin-content">
        <!-- Users -->
        <section id="users-section" class="admin-section">
            <div id="userListContainer" class="admin-card" style="display: none;">
                <div class="section-header">
                    <h3>Список користувачів</h3>
                    <button id="addUserBtn" class="btn-primary">Додати користувача</button>
                </div>
                <ul id="userList" class="list"></ul>
            </div>

            <div id="addUserContainer" class="admin-card" style="display: none;">
                <h3>Створити нового користувача</h3>
                <div class="form-field">
                    <label for="newFullName">ПІБ:</label>
                    <input type="text" id="newFullName" required>
                </div>
                <div class="form-field">
                    <label for="newLogin">Логін:</label>
                    <input type="text" id="newLogin" required>
                </div>
                <div class="form-field">
                    <label for="newPassword">Пароль:</label>
                    <input type="password" id="newPassword" required>
                </div>
                <div class="form-field">
                    <label for="newRole">Роль:</label>
                    <select id="newRole">
                        <option value="MANAGER">Менеджер</option>
                        <option value="DRIVER">Водій</option>
                        <option value="STOREKEEPER">Комірник</option>
                        <option value="LEADER">Керівник</option>
                        <option value="ACCOUNTANT">Бухгалтер</option>
                    </select>
                </div>
                <button id="createUserBtn" class="btn-primary">Створити користувача</button>
            </div>

            <div id="userPermissionsModal" class="modal userPermissionsModal" style="display: none;">
                <div class="modal-content modal-content-user-permission">
                    <span class="close-permissions close-modal">&times;</span>
                    <h2>Редагувати дозволи користувача</h2>
                    <div id="permissionsList"></div>
                    <div class="modal-actions">
                        <button id="savePermissionsButton" class="btn-primary">Зберегти</button>
                    </div>
                </div>
            </div>

            <div id="userClientTypePermissionsModal" class="modal" style="display: none;">
                <div class="modal-content">
                    <span class="close-modal">&times;</span>
                    <h2>Доступ до типів клієнтів</h2>
                    <p id="clientTypePermissionsUserName" style="margin-bottom: 1.5em; font-weight: 600; color: var(--dark-blue);"></p>
                    <div id="clientTypePermissionsList" style="max-height: calc(90vh - 250px); overflow-y: auto;"></div>
                    <div class="modal-actions">
                        <button id="saveClientTypePermissionsButton" class="btn-primary">Зберегти</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Containers -->
        <section id="containers-section" class="admin-section">
            <div id="containerListContainer" class="admin-card" style="display: none;">
                <h3>Список типів тар</h3>
                <ul id="barrelTypeList" class="list"></ul>
            </div>

            <div id="addContainerContainer" class="admin-card" style="display: none;">
                <h3>Створити новий тип тари</h3>
                <div class="form-field">
                    <label for="newBarrelTypeName">Назва:</label>
                    <input type="text" id="newBarrelTypeName" required>
                </div>
                <button id="createBarrelTypeBtn" class="btn-primary">Додати тип тари</button>
            </div>
        </section>

        <!-- Storages -->
        <section id="storages-section" class="admin-section">
            <div id="storageListContainer" class="admin-card" style="display: none;">
                <h3>Список складів</h3>
                <ul id="storageList" class="list"></ul>
            </div>

            <div id="addStorageContainer" class="admin-card" style="display: none;">
                <h3>Створити новий склад</h3>
                <div class="form-field">
                    <label for="newStorageName">Назва:</label>
                    <input type="text" id="newStorageName" required>
                </div>
                <div class="form-field">
                    <label for="newStorageDescription">Опис:</label>
                    <input type="text" id="newStorageDescription">
                </div>
                <button id="createStorageBtn" class="btn-primary">Створити склад</button>
            </div>
        </section>

        <!-- Withdrawal Reasons -->
        <section id="withdrawal-section" class="admin-section">
            <div id="withdrawalReasonListContainer" class="admin-card" style="display: none;">
                <h3>Список причин списання</h3>
                <ul id="withdrawalReasonList" class="list"></ul>
            </div>

            <div id="addWithdrawalReasonContainer" class="admin-card" style="display: none;">
                <h3>Створити нову причину списання</h3>
                <div class="form-field">
                    <label for="newWithdrawalReasonName">Назва:</label>
                    <input type="text" id="newWithdrawalReasonName" required>
                </div>
                <div class="form-field">
                    <label for="newWithdrawalReasonPurpose">Призначення:</label>
                    <select id="newWithdrawalReasonPurpose" required>
                        <option value="ADDING">Поповнення</option>
                        <option value="REMOVING">Списання</option>
                        <option value="BOTH">Обидва</option>
                    </select>
                </div>
                <button id="createWithdrawalReasonBtn" class="btn-primary">Створити причину</button>
            </div>
        </section>

        <!-- Products -->
        <section id="products-section" class="admin-section">
            <div id="product-list" class="admin-card" style="display: none;">
                <h3>Список продуктів</h3>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Назва</th>
                            <th>Використання</th>
                            <th>Дії</th>
                        </tr>
                        </thead>
                        <tbody id="products-table-body"></tbody>
                    </table>
                </div>
            </div>

            <div id="create-product" class="admin-card" style="display: none;">
                <h3>Створити новий продукт</h3>
                <form id="create-product-form">
                    <div class="form-group">
                        <label for="create-name">Назва:</label>
                        <input type="text" id="create-name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="create-usage">Використання:</label>
                        <select id="create-usage" name="usage" required>
                            <option value="SALE_ONLY">Тільки продаж</option>
                            <option value="PURCHASE_ONLY">Тільки закупівля</option>
                            <option value="BOTH">Обидва</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-primary">Створити</button>
                </form>
            </div>

            <div id="edit-product-modal" class="modal" style="display: none;">
                <div class="modal-content">
                    <span class="close-modal">&times;</span>
                    <h2>Редагувати продукт</h2>
                    <form id="edit-product-form">
                        <input type="hidden" id="edit-id" name="id">
                        <div class="form-group">
                            <label for="edit-name">Назва:</label>
                            <input type="text" id="edit-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-usage">Використання:</label>
                            <select id="edit-usage" name="usage" required>
                                <option value="SALE_ONLY">Тільки продаж</option>
                                <option value="PURCHASE_ONLY">Тільки закупівля</option>
                                <option value="BOTH">Обидва</option>
                            </select>
                        </div>
                        <div class="modal-actions">
                            <button type="submit" class="btn-primary">Зберегти</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Client Products -->
        <section id="client-products-section" class="admin-section">
            <div id="client-product-list" class="admin-card" style="display: none;">
                <h3>Список продуктів клієнтів</h3>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Назва</th>
                            <th>Дії</th>
                        </tr>
                        </thead>
                        <tbody id="client-products-table-body"></tbody>
                    </table>
                </div>
            </div>

            <div id="client-create-product" class="admin-card" style="display: none;">
                <h3>Створити новий продукт клієнта</h3>
                <form id="client-create-product-form">
                    <div class="form-group">
                        <label for="client-create-name">Назва:</label>
                        <input type="text" id="client-create-name" name="name" required>
                    </div>
                    <button type="submit" class="btn-primary">Створити</button>
                </form>
            </div>

            <div id="client-edit-product-modal" class="modal" style="display: none;">
                <div class="modal-content">
                    <span class="close-modal">&times;</span>
                    <h2>Редагувати продукт клієнта</h2>
                    <form id="client-edit-product-form">
                        <input type="hidden" id="client-edit-id" name="id">
                        <div class="form-group">
                            <label for="client-edit-name">Назва:</label>
                            <input type="text" id="client-edit-name" name="name" required>
                        </div>
                        <div class="modal-actions">
                            <button type="submit" class="btn-primary">Зберегти</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Branch Permissions -->
        <section id="client-types-section" class="admin-section">
            <div id="client-types-list-container" class="admin-card" style="display: none;">
                <div class="section-header">
                    <h3>Типи клієнтів</h3>
                    <button id="addClientTypeBtn" class="btn-primary">Додати тип клієнта</button>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Назва</th>
                            <th>Мітка поля назви</th>
                            <th>Активний</th>
                            <th>Дії</th>
                        </tr>
                        </thead>
                        <tbody id="client-types-table-body"></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Sources -->
        <section id="sources-section" class="admin-section">
            <div id="sources-list-container" class="admin-card" style="display: none;">
                <div class="section-header">
                    <h3>Джерела</h3>
                    <button id="create-source-btn" class="btn-primary">Створити джерело</button>
                </div>
                <div class="table-container">
                    <table id="source-table" class="data-table">
                        <thead>
                        <tr>
                            <th>Назва</th>
                            <th>Користувач</th>
                            <th>Дії</th>
                        </tr>
                        </thead>
                        <tbody id="source-body"></tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="branch-permissions-section" class="admin-section">
            <div id="branchPermissionsContainer" class="admin-card" style="display: none;">
                <h3>Управління правами доступу до філій</h3>
                <div class="filter-section">
                    <label for="branch-permissions-user-filter">Користувач:</label>
                    <select id="branch-permissions-user-filter">
                        <option value="">Всі користувачі</option>
                    </select>
                    <label for="branch-permissions-branch-filter">Філія:</label>
                    <select id="branch-permissions-branch-filter">
                        <option value="">Всі філії</option>
                    </select>
                </div>
                <div class="table-container">
                    <table id="branch-permissions-table" class="data-table">
                        <thead>
                        <tr>
                            <th>Користувач</th>
                            <th>Філія</th>
                            <th>Може переглядати</th>
                            <th>Може виконувати операції</th>
                            <th>Дії</th>
                        </tr>
                        </thead>
                        <tbody id="branch-permissions-body"></tbody>
                    </table>
                </div>
                <button id="add-branch-permission-btn" class="btn-primary">Додати права</button>
            </div>

            <div id="branch-permission-modal" class="modal" style="display: none;">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2 id="branch-permission-modal-title">Додати права доступу</h2>
                    <form id="branch-permission-form">
                        <input type="hidden" id="branch-permission-id">
                        <div class="form-group">
                            <label for="branch-permission-user">Користувач:</label>
                            <select id="branch-permission-user" required>
                                <option value="">Виберіть користувача</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="branch-permission-branch">Філія:</label>
                            <select id="branch-permission-branch" required>
                                <option value="">Виберіть філію</option>
                            </select>
                        </div>
                        <div class="form-group checkbox-field">
                            <label>
                                <input type="checkbox" id="branch-permission-can-view" checked> Може переглядати
                            </label>
                        </div>
                        <div class="form-group checkbox-field">
                            <label>
                                <input type="checkbox" id="branch-permission-can-operate"> Може виконувати операції
                            </label>
                        </div>
                        <button type="submit" class="btn-primary" id="branch-permission-submit-btn">Додати</button>
                    </form>
                </div>
            </div>
        </section>
    </div>
</div>

<div id="loader-backdrop" class="loader-backdrop" style="display: none;">
    <div id="loader" class="loader"></div>
</div>

<!-- Client Type Modals -->
<div id="add-client-type-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Створити тип клієнта</h2>
        <form id="create-client-type-form">
            <div class="form-group">
                <label for="client-type-name">Назва:</label>
                <input type="text" id="client-type-name" name="name" required>
            </div>
            <div class="form-group">
                <label for="client-type-name-field-label">Мітка поля назви:</label>
                <input type="text" id="client-type-name-field-label" name="nameFieldLabel" value="Компанія">
            </div>
            <div class="modal-actions">
                <button type="submit" class="btn-primary">Створити</button>
            </div>
        </form>
    </div>
</div>

<div id="edit-client-type-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Редагувати тип клієнта</h2>
        <form id="edit-client-type-form">
            <input type="hidden" id="edit-client-type-id" name="id">
            <div class="form-group">
                <label for="edit-client-type-name">Назва:</label>
                <input type="text" id="edit-client-type-name" name="name" required>
            </div>
            <div class="form-group">
                <label for="edit-client-type-name-field-label">Мітка поля назви:</label>
                <input type="text" id="edit-client-type-name-field-label" name="nameFieldLabel">
            </div>
            <div class="form-group">
                <label for="edit-client-type-active">Активний:</label>
                <input type="checkbox" id="edit-client-type-active" name="isActive">
            </div>
            <div class="modal-actions">
                <button type="submit" class="btn-primary">Зберегти</button>
            </div>
        </form>
    </div>
</div>

<div id="manage-fields-modal" class="modal" style="display: none;">
    <div class="modal-content manage-fields-modal-content">
        <span class="close-modal" aria-label="Закрити">&times;</span>
        <h2>Управління полями</h2>
        <div style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;">
            <button id="addFieldBtn" class="btn-primary add-field-btn">Додати поле</button>
            <button id="configureStaticFieldsBtn" class="btn-secondary">Налаштувати статичні поля</button>
        </div>
        <div class="table-container fields-table-container">
            <table class="data-table fields-table">
                <thead>
                <tr>
                    <th>Мітка</th>
                    <th>Тип</th>
                    <th>Обов'язкове</th>
                    <th>Пошук</th>
                    <th>Фільтр</th>
                    <th>В таблиці</th>
                    <th>При створенні</th>
                    <th>Порядок</th>
                    <th>Дії</th>
                </tr>
                </thead>
                <tbody id="fields-table-body"></tbody>
            </table>
        </div>
    </div>
</div>

<div id="add-field-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Додати поле</h2>
        <form id="create-field-form">
            <input type="hidden" id="field-client-type-id" name="clientTypeId">
            <div class="form-group">
                <label for="field-name">Назва поля (латиниця):</label>
                <input type="text" id="field-name" name="fieldName" required pattern="[a-zA-Z0-9_]+">
            </div>
            <div class="form-group">
                <label for="field-label">Мітка поля:</label>
                <input type="text" id="field-label" name="fieldLabel" required>
            </div>
            <div class="form-group">
                <label for="field-type">Тип поля:</label>
                <select id="field-type" name="fieldType" required>
                    <option value="TEXT">Текст</option>
                    <option value="NUMBER">Число</option>
                    <option value="DATE">Дата</option>
                    <option value="PHONE">Телефон</option>
                    <option value="LIST">Список</option>
                    <option value="BOOLEAN">Так/Ні</option>
                </select>
            </div>
            <div class="form-group">
                <label for="field-required">Обов'язкове:</label>
                <input type="checkbox" id="field-required" name="isRequired">
            </div>
            <div class="form-group">
                <label for="field-searchable">Доступне для пошуку:</label>
                <input type="checkbox" id="field-searchable" name="isSearchable" checked>
            </div>
            <div class="form-group">
                <label for="field-filterable">Доступне для фільтрації:</label>
                <input type="checkbox" id="field-filterable" name="isFilterable">
            </div>
            <div class="form-group">
                <label for="field-visible">Видиме в таблиці:</label>
                <input type="checkbox" id="field-visible" name="isVisibleInTable" checked>
            </div>
            <div class="form-group">
                <label for="field-visible-in-create">Видиме при створенні:</label>
                <input type="checkbox" id="field-visible-in-create" name="isVisibleInCreate" checked>
            </div>
            <div class="form-group">
                <label for="field-column-width">Ширина стовпця (px, за замовчуванням автоматично):</label>
                <input type="number" id="field-column-width" name="columnWidth" min="50" placeholder="Автоматично">
            </div>
            <div class="form-group" id="field-validation-pattern-group" style="display: none;">
                <label for="field-validation-pattern">Шаблон валідації:</label>
                <input type="text" id="field-validation-pattern" name="validationPattern" placeholder="Наприклад: ^\\+?[0-9]{10,15}$">
            </div>
            <div class="form-group" id="field-list-values-group" style="display: none;">
                <label for="field-list-values">Значення списку (по одному на рядок):</label>
                <textarea id="field-list-values" name="listValues" rows="5"></textarea>
            </div>
            <div class="form-group">
                <label for="field-allow-multiple">Дозволити множинні значення:</label>
                <input type="checkbox" id="field-allow-multiple" name="allowMultiple">
            </div>
            <div class="modal-actions">
                <button type="submit" class="btn-primary">Створити</button>
            </div>
        </form>
    </div>
</div>

<div id="edit-field-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Редагувати поле</h2>
        <form id="edit-field-form">
            <input type="hidden" id="edit-field-id" name="id">
            <div class="form-group">
                <label for="edit-field-label">Мітка поля:</label>
                <input type="text" id="edit-field-label" name="fieldLabel" required>
            </div>
            <div class="form-group">
                <label for="edit-field-required">Обов'язкове:</label>
                <input type="checkbox" id="edit-field-required" name="isRequired">
            </div>
            <div class="form-group">
                <label for="edit-field-searchable">Доступне для пошуку:</label>
                <input type="checkbox" id="edit-field-searchable" name="isSearchable">
            </div>
            <div class="form-group">
                <label for="edit-field-filterable">Доступне для фільтрації:</label>
                <input type="checkbox" id="edit-field-filterable" name="isFilterable">
            </div>
            <div class="form-group">
                <label for="edit-field-visible">Видиме в таблиці:</label>
                <input type="checkbox" id="edit-field-visible" name="isVisibleInTable">
            </div>
            <div class="form-group">
                <label for="edit-field-visible-in-create">Видиме при створенні:</label>
                <input type="checkbox" id="edit-field-visible-in-create" name="isVisibleInCreate">
            </div>
            <div class="form-group">
                <label for="edit-field-display-order">Порядок відображення:</label>
                <input type="number" id="edit-field-display-order" name="displayOrder" min="0">
            </div>
            <div class="form-group">
                <label for="edit-field-column-width">Ширина стовпця (px, за замовчуванням автоматично):</label>
                <input type="number" id="edit-field-column-width" name="columnWidth" min="50" placeholder="Автоматично">
            </div>
            <div class="form-group" id="edit-field-validation-pattern-group" style="display: none;">
                <label for="edit-field-validation-pattern">Шаблон валідації:</label>
                <input type="text" id="edit-field-validation-pattern" name="validationPattern">
            </div>
            <div class="form-group" id="edit-field-list-values-group" style="display: none;">
                <label for="edit-field-list-values">Значення списку (по одному на рядок):</label>
                <textarea id="edit-field-list-values" name="listValues" rows="5"></textarea>
            </div>
            <div class="form-group">
                <label for="edit-field-allow-multiple">Дозволити множинні значення:</label>
                <input type="checkbox" id="edit-field-allow-multiple" name="allowMultiple">
            </div>
            <div class="modal-actions">
                <button type="submit" class="btn-primary">Зберегти</button>
            </div>
        </form>
    </div>
</div>

<!-- Create/Edit Source Modal -->
<div id="create-source-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2 id="source-modal-title">Створити джерело</h2>
        <form id="source-form">
            <input type="hidden" id="source-id">
            <div class="form-group">
                <label for="source-name">Назва:</label>
                <input type="text" id="source-name" required>
            </div>
            <div class="form-group">
                <label for="source-user">Користувач:</label>
                <select id="source-user">
                    <option value="">Не закріплено</option>
                </select>
            </div>
            <div class="modal-actions">
                <button type="submit" class="btn-primary" id="source-submit-btn">Створити</button>
            </div>
        </form>
    </div>
</div>

<!-- Client Import Modal -->
<div id="client-import-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Імпорт клієнтів з Excel</h2>
        <form id="client-import-form">
            <input type="hidden" id="import-client-type-id">
            <div class="form-group">
                <label for="import-file">Виберіть Excel файл:</label>
                <input type="file" id="import-file" name="file" accept=".xlsx,.xls" required>
            </div>
            <div class="modal-actions">
                <button type="submit" class="btn-primary">Імпортувати</button>
            </div>
        </form>
    </div>
</div>

<!-- Static Fields Configuration Modal -->
<div id="static-fields-config-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close-modal" aria-label="Закрити">&times;</span>
        <h2>Налаштування статичних полей</h2>
        <form id="static-fields-config-form">
            <input type="hidden" id="static-fields-client-type-id">
            
            <h3>Компанія</h3>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="static-company-visible" name="companyVisible">
                    Видиме в таблиці
                </label>
            </div>
            <div class="form-group">
                <label for="static-company-label">Мітка поля:</label>
                <input type="text" id="static-company-label" name="companyLabel" value="Компанія">
            </div>
            <div class="form-group">
                <label for="static-company-order">Порядок відображення:</label>
                <input type="number" id="static-company-order" name="companyOrder" min="0" value="0">
            </div>
            <div class="form-group">
                <label for="static-company-width">Ширина стовпця (px):</label>
                <input type="number" id="static-company-width" name="companyWidth" min="50" value="200">
            </div>
            
            <h3>Залучення</h3>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="static-source-visible" name="sourceVisible" checked>
                    Видиме в таблиці
                </label>
            </div>
            <div class="form-group">
                <label for="static-source-label">Мітка поля:</label>
                <input type="text" id="static-source-label" name="sourceLabel" value="Залучення">
            </div>
            <div class="form-group">
                <label for="static-source-order">Порядок відображення:</label>
                <input type="number" id="static-source-order" name="sourceOrder" min="0" value="999">
            </div>
            <div class="form-group">
                <label for="static-source-width">Ширина стовпця (px):</label>
                <input type="number" id="static-source-width" name="sourceWidth" min="50" value="200">
            </div>
            
            <h3>Дата створення</h3>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="static-createdAt-visible" name="createdAtVisible">
                    Видиме в таблиці
                </label>
            </div>
            <div class="form-group">
                <label for="static-createdAt-label">Мітка поля:</label>
                <input type="text" id="static-createdAt-label" name="createdAtLabel" value="Створено">
            </div>
            <div class="form-group">
                <label for="static-createdAt-order">Порядок відображення:</label>
                <input type="number" id="static-createdAt-order" name="createdAtOrder" min="0" value="1000">
            </div>
            <div class="form-group">
                <label for="static-createdAt-width">Ширина стовпця (px):</label>
                <input type="number" id="static-createdAt-width" name="createdAtWidth" min="50" value="150">
            </div>
            
            <h3>Дата оновлення</h3>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="static-updatedAt-visible" name="updatedAtVisible">
                    Видиме в таблиці
                </label>
            </div>
            <div class="form-group">
                <label for="static-updatedAt-label">Мітка поля:</label>
                <input type="text" id="static-updatedAt-label" name="updatedAtLabel" value="Оновлено">
            </div>
            <div class="form-group">
                <label for="static-updatedAt-order">Порядок відображення:</label>
                <input type="number" id="static-updatedAt-order" name="updatedAtOrder" min="0" value="1001">
            </div>
            <div class="form-group">
                <label for="static-updatedAt-width">Ширина стовпця (px):</label>
                <input type="number" id="static-updatedAt-width" name="updatedAtWidth" min="50" value="150">
            </div>
            
            <div class="modal-actions">
                <button type="submit" class="btn-primary">Зберегти</button>
            </div>
        </form>
    </div>
</div>

<script src="/js/administration.js"></script>
<script src="/js/common.js"></script>
<script src="/js/error.js"></script>

</body>
</html>